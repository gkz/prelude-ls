// prelude.ls 0.1.0
// Copyright (c) 2012 George Zahariev
// Released under the MIT License
// raw.github.com/gkz/prelude-ls/master/LICNSE
this.prelude=function(){function __curry(f,args){return f.length?function(){var params=args?args.concat():[];return params.push.apply(params,arguments)<f.length?__curry.call(this,f,params):f.apply(this,params)}:f}function __in(x,arr){var i=0,l=arr.length>>>0;while(i<l)if(x===arr[i++])return!0;return!1}function __compose(f,g){return function(){return f(g.apply(this,arguments))}}function __not(x){return!x}exports={};var objToFunc,compose,max,min,negate,abs,signum,quot,rem,div,mod,recip,pi,tau,exp,sqrt,log,pow,sin,tan,cos,asin,atan,atan2,acos,truncate,round,ceiling,floor,isItNaN,even,odd,gcd,lcm,id,flip,error,each,map,cons,append,filter,reject,find,pluck,head,tail,last,initial,empty,length,reverse,foldl,fold,foldl1,fold1,foldr,foldr1,andList,orList,any,all,unique,sum,product,average,mean,concat,concatMap,listToObj,maximum,minimum,scanl,scan,scanl1,scan1,scanr,scanr1,replicate,take,drop,splitAt,takeWhile,dropWhile,span,breakIt,elem,notElem,lookup,call,zip,zipWith,lines,unlines,words,unwords,__slice=[].slice,__toString={}.toString;return exports.objToFunc=objToFunc=function(obj){return function(key){return obj[key]}},exports.compose=compose=function(){var funcs;return funcs=__slice.call(arguments),function(){var args,f,__i,__ref,__len;args=arguments;for(__i=0,__len=(__ref=funcs).length;__i<__len;++__i)f=__ref[__i],args=[f.apply(this,args)];return args[0]}},exports.max=max=__curry(function(x,y){return x>y?x:y}),exports.min=min=__curry(function(x,y){return x>y?y:x}),exports.negate=negate=function(x){return-x},exports.abs=abs=Math.abs,exports.signum=signum=function(x){switch(!1){case!(x<0):return-1;case!(x>0):return 1;default:return 0}},exports.quot=quot=__curry(function(x,y){return~~(x/y)}),exports.rem=rem=__curry(function(x,y){return x%y}),exports.div=div=__curry(function(x,y){return Math.floor(x/y)}),exports.mod=mod=__curry(function(x,y){var __ref;return(x%(__ref=y)+__ref)%__ref}),exports.recip=recip=function(x){return 1/x},exports.pi=pi=Math.PI,exports.tau=tau=pi*2,exports.exp=exp=Math.exp,exports.sqrt=sqrt=Math.sqrt,exports.log=log=Math.log,exports.pow=pow=__curry(function(x,y){return Math.pow(x,y)}),exports.sin=sin=Math.sin,exports.tan=tan=Math.tan,exports.cos=cos=Math.cos,exports.asin=asin=Math.asin,exports.atan=atan=Math.atan,exports.atan2=atan2=__curry(function(x,y){return Math.atan2(x,y)}),exports.acos=acos=Math.acos,exports.truncate=truncate=function(x){return~~x},exports.round=round=Math.round,exports.ceiling=ceiling=Math.ceil,exports.floor=floor=Math.floor,exports.isItNaN=isItNaN=function(x){return x!==x},exports.even=even=function(x){return x%2===0},exports.odd=odd=function(x){return x%2!==0},exports.gcd=gcd=__curry(function(x,y){var z;x=Math.abs(x),y=Math.abs(y);while(y!==0)z=x%y,x=y,y=z;return x}),exports.lcm=lcm=__curry(function(x,y){return Math.abs(Math.floor(x/gcd(x,y)*y))}),exports.id=id=function(x){return x},exports.flip=flip=__curry(function(f,x,y){return f(y,x)}),exports.error=error=function(msg){throw msg},exports.each=each=__curry(function(f,xs){var x,__i,__len;for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],f(x);return xs}),exports.map=map=__curry(function(f,xs){var type,key,x,result,__res,__i,__len,__results={};__toString.call(f).slice(8,-1)!=="Function"&&(f=objToFunc(f)),type=__toString.call(xs).slice(8,-1);if(type==="Object"){for(key in xs)x=xs[key],__results[key]=f(x);return __results}__res=[];for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],__res.push(f(x));return result=__res,type==="String"?result.join(""):result}),exports.cons=cons=__curry(function(x,xs){return __toString.call(xs).slice(8,-1)==="String"?x+xs:[x].concat(xs)}),exports.append=append=__curry(function(xs,ys){return __toString.call(ys).slice(8,-1)==="String"?xs+ys:xs.concat(ys)}),exports.filter=filter=__curry(function(f,xs){var type,key,x,result,__res,__i,__len,__results={};__toString.call(f).slice(8,-1)!=="Function"&&(f=objToFunc(f)),type=__toString.call(xs).slice(8,-1);if(type==="Object"){for(key in xs)x=xs[key],f(x)&&(__results[key]=x);return __results}__res=[];for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],f(x)&&__res.push(x);return result=__res,type==="String"?result.join(""):result}),exports.reject=reject=__curry(function(f,xs){var type,key,x,result,__res,__i,__len,__results={};__toString.call(f).slice(8,-1)!=="Function"&&(f=objToFunc(f)),type=__toString.call(xs).slice(8,-1);if(type==="Object"){for(key in xs)x=xs[key],f(x)||(__results[key]=x);return __results}__res=[];for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],f(x)||__res.push(x);return result=__res,type==="String"?result.join(""):result}),exports.find=find=__curry(function(f,xs){var x,__i,__len;__toString.call(f).slice(8,-1)!=="Function"&&(f=objToFunc(f));if(__toString.call(xs).slice(8,-1)==="Object")for(__i in xs){x=xs[__i];if(f(x))return x}else for(__i=0,__len=xs.length;__i<__len;++__i){x=xs[__i];if(f(x))return x}}),exports.pluck=pluck=__curry(function(prop,xs){var x,__i,__len,__results=[];for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],x[prop]!=null&&__results.push(x[prop]);return __results}),exports.head=head=function(xs){if(!xs.length)return;return xs.slice(0,1)},exports.tail=tail=function(xs){if(!xs.length)return;return xs.slice(1)},exports.last=last=function(xs){if(!xs.length)return;return xs.slice(xs.length-1)},exports.initial=initial=function(xs){if(!xs.length)return;return xs.slice(0,xs.length-1)},exports.empty=empty=function(xs){return!xs.length},exports.length=length=function(xs){return xs.length},exports.reverse=reverse=function(xs){return __toString.call(xs).slice(8,-1)==="String"?xs.split("").reverse().join(""):xs.slice().reverse()},exports.fold=fold=exports.foldl=foldl=__curry(function(f,memo,xs){var x,__i,__len;__toString.call(f).slice(8,-1)!=="Function"&&(f=objToFunc(f));if(__toString.call(xs).slice(8,-1)==="Object")for(__i in xs)x=xs[__i],memo=f(memo,x);else for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],memo=f(memo,x);return memo}),exports.fold1=fold1=exports.foldl1=foldl1=__curry(function(f,xs){return fold(f,xs[0],xs.slice(1))}),exports.foldr=foldr=__curry(function(f,memo,xs){return fold(f,memo,xs.reverse())}),exports.foldr1=foldr1=__curry(function(f,xs){return xs.reverse(),fold(f,xs[0],xs.slice(1))}),exports.andList=andList=function(xs){return fold(function(memo,x){return memo&&x},!0,xs)},exports.orList=orList=function(xs){return fold(function(memo,x){return memo||x},!1,xs)},exports.any=any=__curry(function(f,xs){return fold(function(memo,x){return memo||f(x)},!1,xs)}),exports.all=all=__curry(function(f,xs){return fold(function(memo,x){return memo&&f(x)},!0,xs)}),exports.unique=unique=function(xs){var result,x,__i,__len;result=[];for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],__in(x,result)||result.push(x);return __toString.call(xs).slice(8,-1)==="String"?result.join(""):result},exports.sum=sum=function(xs){var result,x,__i,__len;result=0;for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],result+=x;return result},exports.product=product=function(xs){var result,x,__i,__len;result=1;for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],result*=x;return result},exports.mean=mean=exports.average=average=function(xs){return sum(xs)/xs.length},exports.concat=concat=function(xss){return fold(append,[],xss)},exports.concatMap=concatMap=__curry(function(f,xs){return concat(map(f,xs))}),exports.listToObj=listToObj=function(xs){var result,x,__i,__len;result={};for(__i=0,__len=xs.length;__i<__len;++__i)x=xs[__i],result[x[0]]=x[1];return result},exports.maximum=maximum=function(xs){return fold1(max,xs)},exports.minimum=minimum=function(xs){return fold1(min,xs)},exports.scan=scan=exports.scanl=scanl=__curry(function(f,memo,xs){var last,x;return __toString.call(f).slice(8,-1)!=="Function"&&(f=objToFunc(f)),last=memo,__toString.call(xs).slice(8,-1)==="Object"?[memo].concat(function(){var __i,__ref,__results=[];for(__i in __ref=xs)x=__ref[__i],__results.push(last=f(last,x));return __results}()):[memo].concat(function(){var __i,__ref,__len,__results=[];for(__i=0,__len=(__ref=xs).length;__i<__len;++__i)x=__ref[__i],__results.push(last=f(last,x));return __results}())}),exports.scan1=scan1=exports.scanl1=scanl1=__curry(function(f,xs){return scan(f,xs[0],xs.slice(1))}),exports.scanr=scanr=__curry(function(f,memo,xs){return xs.reverse(),scan(f,memo,xs).reverse()}),exports.scanr1=scanr1=__curry(function(f,xs){return xs.reverse(),scan(f,xs[0],xs.slice(1)).reverse()}),exports.replicate=replicate=__curry(function(n,x){var result,i;result=[],i=0;for(;i<n;++i)result.push(x);return __toString.call(x).slice(8,-1)==="String"?result.join(""):result}),exports.take=take=__curry(function(n,xs){switch(!1){case!(n<=0):return __toString.call(xs).slice(8,-1)==="String"?"":[];case!!xs.length:return xs;default:return xs.slice(0,n)}}),exports.drop=drop=__curry(function(n,xs){switch(!1){case!(n<=0):return xs;case!!xs.length:return xs;default:return xs.slice(n)}}),exports.splitAt=splitAt=__curry(function(n,xs){return[take(n,xs),drop(n,xs)]}),exports.takeWhile=takeWhile=__curry(function(p,xs){var i,x,__i,__len;if(!xs.length)return xs;__toString.call(p).slice(8,-1)!=="Function"&&(p=objToFunc(p)),i=0;for(__i=0,__len=xs.length;__i<__len;++__i){x=xs[__i];if(!p(x))break;++i}return take(i,xs)}),exports.dropWhile=dropWhile=__curry(function(p,xs){var i,x,__i,__len;if(!xs.length)return xs;__toString.call(p).slice(8,-1)!=="Function"&&(p=objToFunc(p)),i=0;for(__i=0,__len=xs.length;__i<__len;++__i){x=xs[__i];if(!p(x))break;++i}return drop(i,xs)}),exports.span=span=__curry(function(p,xs){return[takeWhile(p,xs),dropWhile(p,xs)]}),exports.breakIt=breakIt=__curry(function(p,xs){return span(__compose(__not,p),xs)}),exports.elem=elem=__curry(function(x,ys){return __in(x,ys)}),exports.notElem=notElem=__curry(function(x,ys){return!__in(x,ys)}),exports.lookup=lookup=__curry(function(key,xs){return xs!=null?xs[key]:void 8}),exports.call=call=__curry(function(key,xs){return xs!=null?typeof xs[key]=="function"?xs[key]():void 8:void 8}),exports.zip=zip=function(){var xss,result,i,xs,j,x,__len,__len1,__ref;xss=__slice.call(arguments),result=[];for(i=0,__len=xss.length;i<__len;++i){xs=xss[i];for(j=0,__len1=xs.length;j<__len1;++j)x=xs[j],i===0&&result.push([]),(__ref=result[j])!=null&&__ref.push(x)}return result},exports.zipWith=zipWith=function(f){var xss,xs,__i,__ref,__len,__results=[];xss=__slice.call(arguments,1),__toString.call(f).slice(8,-1)!=="Function"&&(f=objToFunc(f));if(!xss[0].length||!xss[1].length)return[];for(__i=0,__len=(__ref=zip.apply(this,xss)).length;__i<__len;++__i)xs=__ref[__i],__results.push(f.apply(this,xs));return __results},exports.lines=lines=function(str){return str.length?str.split("\n"):[]},exports.unlines=unlines=function(strs){return strs.join("\n")},exports.words=words=function(str){return str.length?str.split(" "):[]},exports.unwords=unwords=function(strs){return strs.join(" ")},exports.prelude=function(target){if(typeof target!="undefined"&&target!==null)for(var key in exports)target[key]=exports[key];return exports},exports}()